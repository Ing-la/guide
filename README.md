# å¯¼æ¸¸ç®¡ç†åå°ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js 14 + Supabase + Vercel æ„å»ºçš„ç°ä»£åŒ–å¯¼æ¸¸ç®¡ç†åå°ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ã€å¯¼æ¸¸å’Œç®¡ç†å‘˜ä¸‰ç§è§’è‰²çš„å®Œæ•´åŠŸèƒ½ã€‚

[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green)](https://supabase.com/)
[![Vercel](https://img.shields.io/badge/Vercel-Deployed-black)](https://vercel.com/)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” è®¤è¯ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆæ”¯æŒé€‰æ‹©ç”¨æˆ·/å¯¼æ¸¸è§’è‰²ï¼‰
- âœ… é‚®ç®±å¯†ç ç™»å½•
- âœ… åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- âœ… è‡ªåŠ¨ä¼šè¯ç®¡ç†

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹
- âœ… ç”¨æˆ·æœç´¢
- âœ… ç”¨æˆ·ä¿¡æ¯å±•ç¤ºï¼ˆæ˜µç§°ã€é‚®ç®±ã€æ‰‹æœºå·ã€è§’è‰²ã€åˆ›å»ºæ—¶é—´ï¼‰

### ğŸ§³ å¯¼æ¸¸ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… å¯¼æ¸¸åˆ—è¡¨æŸ¥çœ‹
- âœ… å¯¼æ¸¸ä¿¡æ¯ç¼–è¾‘ï¼ˆå§“åã€æ‰‹æœºå·ã€å¤´è¡”ã€çŠ¶æ€ï¼‰
- âœ… å¯¼æ¸¸åˆ é™¤
- âœ… å¯¼æ¸¸æœç´¢

### ğŸ“‹ éœ€æ±‚ç®¡ç†
**ç”¨æˆ·ç«¯**ï¼š
- âœ… åˆ›å»ºéœ€æ±‚ï¼ˆåŸå¸‚ã€æ™¯ç‚¹ã€é¢„ç®—ã€è®¡åˆ’æ—¶é—´ã€æè¿°ï¼‰
- âœ… æŸ¥çœ‹è‡ªå·±çš„éœ€æ±‚åˆ—è¡¨
- âœ… éœ€æ±‚çŠ¶æ€æ˜¾ç¤º

**å¯¼æ¸¸ç«¯**ï¼š
- âœ… æµè§ˆæ‰€æœ‰éœ€æ±‚ï¼ˆåªè¯»ï¼‰

**ç®¡ç†å‘˜ç«¯**ï¼š
- âœ… æŸ¥çœ‹æ‰€æœ‰éœ€æ±‚
- âœ… éœ€æ±‚æœç´¢å’ŒçŠ¶æ€ç­›é€‰

### ğŸ“ æŠ•è¯‰ç®¡ç†
**ç”¨æˆ·ç«¯**ï¼š
- âœ… åˆ›å»ºæŠ•è¯‰ï¼ˆé€‰æ‹©å¯¼æ¸¸ã€å¡«å†™æŠ•è¯‰å†…å®¹ï¼‰
- âœ… æŸ¥çœ‹è‡ªå·±çš„æŠ•è¯‰åˆ—è¡¨

**å¯¼æ¸¸ç«¯**ï¼š
- âœ… æŸ¥çœ‹æŠ•è¯‰è‡ªå·±çš„æŠ•è¯‰ï¼ˆåªè¯»ï¼‰

**ç®¡ç†å‘˜ç«¯**ï¼š
- âœ… æŸ¥çœ‹æ‰€æœ‰æŠ•è¯‰

### ğŸ“Š è®¢å•ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… è®¢å•åˆ—è¡¨æŸ¥çœ‹
- âœ… è®¢å•ä¿¡æ¯ç¼–è¾‘ï¼ˆçŠ¶æ€ã€é‡‘é¢ï¼‰
- âœ… è®¢å•åˆ é™¤
- âœ… è®¢å•æœç´¢å’ŒçŠ¶æ€ç­›é€‰

### ğŸ“ˆ ä»ªè¡¨ç›˜ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… æ•°æ®ç»Ÿè®¡ï¼ˆç”¨æˆ·æ€»æ•°ã€å¯¼æ¸¸æ€»æ•°ã€éœ€æ±‚æ€»æ•°ã€è®¢å•æ€»æ•°ï¼‰

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **å¼€å‘è¯­è¨€**: TypeScript
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS
- **UI ç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶ï¼ˆTailwind CSSï¼‰
- **åç«¯**: Next.js Server Actions
- **æ•°æ®åº“**: Supabase (PostgreSQL)
- **è®¤è¯**: Supabase Auth
- **éƒ¨ç½²**: Vercel
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub

## ğŸ“ é¡¹ç›®ç»“æ„

```
guide-admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ (auth)/            # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ login/         # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ register/      # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ dashboard/          # ç®¡ç†åå°
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # ä»ªè¡¨ç›˜ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx     # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ users/         # ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ guides/        # å¯¼æ¸¸ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ demands/       # éœ€æ±‚ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/        # è®¢å•ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ complaints/   # æŠ•è¯‰æŸ¥çœ‹ï¼ˆç®¡ç†å‘˜ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ user/          # ç”¨æˆ·ä¸­å¿ƒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ demands/   # éœ€æ±‚ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ complaints/# æŠ•è¯‰ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ guide/         # å¯¼æ¸¸ä¸­å¿ƒ
â”‚   â”‚   â”‚       â”œâ”€â”€ demands/   # éœ€æ±‚æµè§ˆ
â”‚   â”‚   â”‚       â””â”€â”€ complaints/# æŠ•è¯‰æŸ¥çœ‹
â”‚   â”‚   â””â”€â”€ page.tsx           # é¦–é¡µï¼ˆé‡å®šå‘ï¼‰
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase/          # Supabase å®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ actions/           # Server Actions
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts      # ç”¨æˆ·ç›¸å…³æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ guides.ts     # å¯¼æ¸¸ç›¸å…³æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ demands.ts    # éœ€æ±‚ç›¸å…³æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ orders.ts     # è®¢å•ç›¸å…³æ“ä½œ
â”‚   â”‚   â”‚   â””â”€â”€ complaints.ts # æŠ•è¯‰ç›¸å…³æ“ä½œ
â”‚   â”‚   â””â”€â”€ auth/              # è®¤è¯ç›¸å…³
â”‚   â”‚       â””â”€â”€ actions.ts    # ç™»å½•/æ³¨å†Œ/ç™»å‡º
â”‚   â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ database.ts        # æ•°æ®åº“ç±»å‹
â”‚   â””â”€â”€ middleware.ts          # Next.js ä¸­é—´ä»¶ï¼ˆè·¯ç”±ä¿æŠ¤ï¼‰
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ schema.sql             # æ•°æ®åº“ Schemaï¼ˆä¸»æ–‡ä»¶ï¼‰
â”‚   â””â”€â”€ storage-policies.sql  # å­˜å‚¨ç­–ç•¥
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ features.md           # åŠŸèƒ½è¯¦ç»†è¯´æ˜
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ 
- npm æˆ– yarn
- Supabase è´¦å·ï¼ˆå…è´¹ç‰ˆå³å¯ï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/guide.git
cd guide/guide-admin
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Supabase é…ç½®ï¼ˆä» Supabase Dashboard è·å–ï¼‰
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Vercel éƒ¨ç½²æ—¶ä½¿ç”¨ï¼ˆå¦‚æœä½¿ç”¨ Vercel çš„ Supabase é›†æˆï¼‰
VERCEL_SUPABASE_URL=your_supabase_project_url
VERCEL_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. è®¾ç½® Supabase æ•°æ®åº“

åœ¨ Supabase Dashboard çš„ SQL Editor ä¸­æŒ‰é¡ºåºè¿è¡Œä»¥ä¸‹ SQL è„šæœ¬ï¼š

1. **`supabase/schema.sql`** - åˆ›å»ºæ•°æ®åº“è¡¨ã€ç´¢å¼•ã€è§¦å‘å™¨å’Œ RLS ç­–ç•¥
2. **`supabase/storage-policies.sql`** - é…ç½®å­˜å‚¨ç­–ç•¥ï¼ˆå¦‚æœéœ€è¦æ–‡ä»¶ä¸Šä¼ ï¼‰

### 5. é…ç½® Supabase Auth

åœ¨ Supabase Dashboard â†’ Authentication â†’ Settingsï¼š
- å–æ¶ˆå‹¾é€‰ "Enable email confirmations"ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- é…ç½® Email æä¾›å•†çš„è®¾ç½®

### 6. è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### 7. åˆ›å»ºç®¡ç†å‘˜è´¦å·

1. æ³¨å†Œä¸€ä¸ªæ–°è´¦å·
2. åœ¨ Supabase Dashboard â†’ Table Editor â†’ `guide_profiles` è¡¨ä¸­ï¼Œå°†è¯¥ç”¨æˆ·çš„ `role` å­—æ®µè®¾ç½®ä¸º `'admin'`
3. ä½¿ç”¨è¯¥è´¦å·ç™»å½•å³å¯è®¿é—®ç®¡ç†åå°

## ğŸ“š è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹ [docs/features.md](./docs/features.md) äº†è§£å®Œæ•´çš„åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æŒ‡å—ã€‚

## ğŸš¢ éƒ¨ç½²åˆ° Vercel

### æ–¹æ³•ä¸€ï¼šé€šè¿‡ GitHub è‡ªåŠ¨éƒ¨ç½²

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ [Vercel](https://vercel.com) ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
4. ç‚¹å‡»éƒ¨ç½²ï¼Œå®Œæˆï¼

### æ–¹æ³•äºŒï¼šä½¿ç”¨ Vercel CLI

```bash
npm i -g vercel
vercel
```

## ğŸ”’ æƒé™è¯´æ˜

### è§’è‰²ç±»å‹

- **user**ï¼ˆç”¨æˆ·ï¼‰ï¼šå¯ä»¥åˆ›å»ºéœ€æ±‚ã€åˆ›å»ºæŠ•è¯‰ã€æŸ¥çœ‹è‡ªå·±çš„æ•°æ®
- **guide**ï¼ˆå¯¼æ¸¸ï¼‰ï¼šå¯ä»¥æµè§ˆæ‰€æœ‰éœ€æ±‚ã€æŸ¥çœ‹æŠ•è¯‰è‡ªå·±çš„æŠ•è¯‰
- **admin**ï¼ˆç®¡ç†å‘˜ï¼‰ï¼šå¯ä»¥è®¿é—®æ‰€æœ‰åŠŸèƒ½ï¼Œç®¡ç†æ‰€æœ‰æ•°æ®

### æƒé™çŸ©é˜µ

| åŠŸèƒ½ | ç”¨æˆ· | å¯¼æ¸¸ | ç®¡ç†å‘˜ |
|------|------|------|--------|
| åˆ›å»ºéœ€æ±‚ | âœ… | âŒ | âŒ |
| æŸ¥çœ‹è‡ªå·±çš„éœ€æ±‚ | âœ… | âŒ | âœ… |
| æµè§ˆæ‰€æœ‰éœ€æ±‚ | âŒ | âœ… | âœ… |
| åˆ›å»ºæŠ•è¯‰ | âœ… | âŒ | âŒ |
| æŸ¥çœ‹è‡ªå·±çš„æŠ•è¯‰ | âœ… | âŒ | âœ… |
| æŸ¥çœ‹æŠ•è¯‰è‡ªå·±çš„æŠ•è¯‰ | âŒ | âœ… | âœ… |
| ç”¨æˆ·ç®¡ç† | âŒ | âŒ | âœ… |
| å¯¼æ¸¸ç®¡ç† | âŒ | âŒ | âœ… |
| éœ€æ±‚ç®¡ç† | âŒ | âŒ | âœ… |
| è®¢å•ç®¡ç† | âŒ | âŒ | âœ… |
| æŠ•è¯‰æŸ¥çœ‹ | âŒ | âŒ | âœ… |
| ä»ªè¡¨ç›˜ç»Ÿè®¡ | âŒ | âŒ | âœ… |

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### æ ¸å¿ƒè¡¨

- `guide_profiles` - ç”¨æˆ·èµ„æ–™è¡¨ï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰
- `guide_guides` - å¯¼æ¸¸è¯¦ç»†ä¿¡æ¯è¡¨
- `guide_demands` - éœ€æ±‚è¡¨
- `guide_orders` - è®¢å•è¡¨
- `guide_complaints` - æŠ•è¯‰è¡¨
- `guide_titles` - å¯¼æ¸¸å¤´è¡”è¡¨

æ‰€æœ‰è¡¨éƒ½ä½¿ç”¨ `guide_` å‰ç¼€ï¼Œç¡®ä¿æ•°æ®éš”ç¦»ã€‚

è¯¦ç»†æ•°æ®åº“ç»“æ„è¯·æŸ¥çœ‹ `supabase/schema.sql`ã€‚

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `src/lib/actions/` ä¸­åˆ›å»ºæˆ–ä¿®æ”¹ Server Actions
2. åœ¨ `src/app/dashboard/` ä¸­åˆ›å»ºé¡µé¢ç»„ä»¶
3. æ›´æ–° `src/types/database.ts` ä¸­çš„ç±»å‹å®šä¹‰ï¼ˆå¦‚éœ€è¦ï¼‰
4. æ›´æ–°æ•°æ®åº“ Schema å’Œ RLS ç­–ç•¥ï¼ˆå¦‚éœ€è¦ï¼‰

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- Server Actions å¿…é¡»ä½¿ç”¨ `'use server'` æŒ‡ä»¤
- æ‰€æœ‰æ•°æ®åº“æ“ä½œé€šè¿‡ Supabase Client
- ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2026-02-03)
- âœ… å®Œæˆç”¨æˆ·ã€å¯¼æ¸¸ã€ç®¡ç†å‘˜ä¸‰ç§è§’è‰²çš„å®Œæ•´åŠŸèƒ½
- âœ… å®ç°éœ€æ±‚ç®¡ç†å’ŒæŠ•è¯‰ç®¡ç†åŠŸèƒ½
- âœ… å®Œæˆæƒé™æ§åˆ¶å’Œæ•°æ®éš”ç¦»
- âœ… éƒ¨ç½²åˆ° Vercel

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/)
- [Supabase](https://supabase.com/)
- [Vercel](https://vercel.com/)
- [Tailwind CSS](https://tailwindcss.com/)
